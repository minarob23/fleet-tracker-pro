# ุฏููู ุฅุนุฏุงุฏ ูุงุณุชุฎุฏุงู Telegram Bot ูุน ุงููุธุงู ุงูุฃููู ุงููุฌูู ๐

## ูุธุฑุฉ ุนุงูุฉ

ุจูุช Telegram ูุน **ูุธุงู ุฃููู ูุฌูู ูู 3 ูุณุชููุงุช**:
1. ๐ **ูุงุฆูุฉ ุจูุถุงุก** - ูููุฏูุฑูู ุงูููุซูููู
2. ๐๏ธ **ุฃููุงุฏ ุฏุนูุฉ** - ุตุงูุญุฉ ููุฏุฉ 24 ุณุงุนุฉ
3. ๐จโ๐ผ **ููุงููุฉ ุงููุฏูุฑ** - ููุญุงูุงุช ุงูุทุงุฑุฆุฉ

---

## ุงูุฌุฒุก ุงูุฃูู: ุฅุนุฏุงุฏ ุงูุจูุช

### 1. ุฅูุดุงุก ุจูุช ุฌุฏูุฏ

1. ุงูุชุญ Telegram ูุงุจุญุซ ุนู **@BotFather**
2. ุงุจุฏุฃ ูุญุงุฏุซุฉ ูุงูุชุจ `/newbot`
3. ุงุฎุชุฑ ุงุณู ููุจูุช (ูุซู: "Al-Qatami Truck Tracker")
4. ุงุฎุชุฑ username ููุจูุช (ูุฌุจ ุฃู ููุชูู ุจู `bot`)ุ ูุซู: `alqatami_tracker_bot`
5. ุณุชุญุตู ุนูู **Bot Token** - ุงุญูุธู!

```
ูุซุงู ุนูู Token:
6234567890:AAHdqTcvCH1vGWJxfSeofSAs0K5PALDsaw
```

### 2. ุงูุญุตูู ุนูู Chat ID ูููุฏูุฑ

1. ุงุจุญุซ ุนู **@userinfobot** ูู Telegram
2. ุงุจุฏุฃ ูุญุงุฏุซุฉ ูุนู
3. ุณูุฑุณู ูู ูุนูููุงุชู ุจูุง ูููุง **Chat ID**
4. ุงุญูุธ ูุฐุง ุงูุฑูู

---

## ุงูุฌุฒุก ุงูุซุงูู: ุชุซุจูุช ุงูููุชุจุงุช

```bash
cd c:\Users\Asus\Downloads\fleet-tracker-pro-main\fleet-tracker-pro-main
npm install node-telegram-bot-api
```

---

## ุงูุฌุฒุก ุงูุซุงูุซ: ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุชุดุบูู SQL Schema

```bash
# ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช
psql -h your_host -U your_user -d your_database

# ุชุดุบูู ุงูููู
\i server/telegram-security-schema.sql
```

ุฃู ูุฏููุงู:
```sql
-- ุณูุชู ุฅูุดุงุก ุงูุฌุฏุงูู ุชููุงุฆูุงู ุนูุฏ ุชุดุบูู ุงูุจูุช
-- ููู ููููู ุชุดุบูู server/telegram-security-schema.sql ูุฏููุงู
```

---

## ุงูุฌุฒุก ุงูุฑุงุจุน: ุฅุนุฏุงุฏ ุงููุชุบูุฑุงุช ุงูุจูุฆูุฉ

ุงูุชุญ ููู `.env` ูุฃุถู:

```env
# Telegram Bot Configuration
TELEGRAM_BOT_TOKEN=6234567890:AAHdqTcvCH1vGWJxfSeofSAs0K5PALDsaw
TELEGRAM_BOT_USERNAME=alqatami_tracker_bot
TELEGRAM_ADMIN_CHAT_ID=123456789

# Security: Whitelist (Trusted Users - Admins)
# ุฃุถู Chat IDs ูููุฏูุฑูู ููุตููุฉ ุจููุงุตู
TELEGRAM_TRUSTED_USERS=123456789,987654321
```

**ููุงุญุธุฉ:** ุงุณุชุจุฏู ุงูููู ุจุงูููู ุงูุญููููุฉ.

---

## ุงูุฌุฒุก ุงูุฎุงูุณ: ุชุดุบูู ุงูุจูุช

```bash
npm run dev:telegram
```

ุฃู ูุน ูู ุดูุก:
```bash
npm run dev:all
```

---

## ุงููุธุงู ุงูุฃููู ุงููุฌูู ๐

### ุงููุณุชูู 1: ูุงุฆูุฉ ุจูุถุงุก (Whitelist) โญ

**ูู ูู:**
- ุงููุฏูุฑูู ุงูููุซูููู
- ููุถุงููู ูู `TELEGRAM_TRUSTED_USERS`

**ุงูุตูุงุญูุงุช:**
- โ ูุตูู ููุฑู ุจุฏูู ููุงููุฉ
- โ ุฌููุน ุงูุฃูุงูุฑ ูุชุงุญุฉ
- โ ุฃูุงูุฑ ุฅุฏุงุฑูุฉ ุฎุงุตุฉ

**ุงูุฃูุงูุฑ ุงูุฅุฏุงุฑูุฉ:**
```
/invite GPS001 - ุฅูุดุงุก ููุฏ ุฏุนูุฉ
/approve_123456 - ุงูููุงููุฉ ุนูู ุทูุจ
/reject_123456 - ุฑูุถ ุทูุจ
/set_device_123456_GPS001 - ุชุนููู ูุนุฑู ูููุงููุฉ
```

---

### ุงููุณุชูู 2: ุฃููุงุฏ ุงูุฏุนูุฉ (Invite Codes) ๐๏ธ

**ููู ูุนูู:**

1. **ุงููุฏูุฑ ููุดุฆ ููุฏ:**
   ```
   /invite GPS001
   ```

2. **ุงูุจูุช ูููุดุฆ:**
   - ููุฏ ูุฑูุฏ: `QT-ABC123-XYZ`
   - ุฑุงุจุท ุฏุนูุฉ: `https://t.me/bot?start=QT-ABC123-XYZ`
   - ุตูุงุญูุฉ: 24 ุณุงุนุฉ

3. **ุงููุฏูุฑ ููุฑุณู:**
   - ุงูุฑุงุจุท ููุณุงุฆู ุนุจุฑ WhatsApp
   - ุฃู ุงูููุฏ ูุจุงุดุฑุฉ

4. **ุงูุณุงุฆู ูููุนูู:**
   - ูุถุบุท ุงูุฑุงุจุท (ููุชุญ ุงูุจูุช ุชููุงุฆูุงู)
   - ุฃู ููุชุจ: `/activate QT-ABC123-XYZ`

5. **ุงููุชูุฌุฉ:**
   - โ ุญุณุงุจ ูููุนูู ููุฑุงู
   - โ ูุฑุชุจุท ุจูุนุฑู ุงูุฌูุงุฒ
   - โ ุฅุดุนุงุฑ ูููุฏูุฑ

**ุงููููุฒุงุช:**
- ูู ููุฏ ููุณุชุฎุฏู ูุฑุฉ ูุงุญุฏุฉ ููุท
- ุตูุงุญูุฉ 24 ุณุงุนุฉ
- ูุฑุชุจุท ุจูุนุฑู ุฌูุงุฒ ูุญุฏุฏ
- ุชุชุจุน ูุงูู (ูู ุฃูุดุฃูุ ูู ุงุณุชุฎุฏููุ ูุชู)

---

### ุงููุณุชูู 3: ููุงููุฉ ุงููุฏูุฑ (Admin Approval) ๐จโ๐ผ

**ููู ูุนูู:**

1. **ุงูุณุงุฆู ูุทูุจ:**
   ```
   /request_access
   ```

2. **ุงูุจูุช ููุฑุณู ูููุฏูุฑ:**
   ```
   ๐ ุทูุจ ูุตูู ุฌุฏูุฏ
   
   ุงูุงุณู: ุฃุญูุฏ ูุญูุฏ
   Username: @ahmed
   Chat ID: 123456789
   
   ููููุงููุฉ: /approve_123456789
   ููุฑูุถ: /reject_123456789
   ```

3. **ุงููุฏูุฑ ููุงูู:**
   ```
   /approve_123456789
   ```

4. **ุงูุจูุช ูุทูุจ ูุนุฑู ุงูุฌูุงุฒ:**
   ```
   /set_device_123456789_GPS001
   ```

5. **ุงููุชูุฌุฉ:**
   - โ ุญุณุงุจ ูููุนูู
   - โ ุงูุณุงุฆู ูุณุชูุจู ุฅุดุนุงุฑ
   - โ ูุฑุชุจุท ุจูุนุฑู ุงูุฌูุงุฒ

**ููุฑูุถ:**
```
/reject_123456789
```

---

## ุงุณุชุฎุฏุงู ุงูุจูุช (ููุณุงุฆููู)

### ุงูุณููุงุฑูู 1: ูุฏูู ููุฏ ุฏุนูุฉ

```
1. ูุณุชูุจู ุฑุงุจุท ูู ุงููุฏูุฑ
2. ูุถุบุท ุนูู ุงูุฑุงุจุท
3. ููุชุญ ุงูุจูุช ุชููุงุฆูุงู
4. ุญุณุงุจู ูููุนูู! โ
5. ูุจุฏุฃ ุงูุงุณุชุฎุฏุงู
```

### ุงูุณููุงุฑูู 2: ููุณ ูุฏูู ููุฏ

```
1. ููุชุญ ุงูุจูุช
2. ููุชุจ /start
3. ููุชุจ /request_access
4. ููุชุธุฑ ููุงููุฉ ุงููุฏูุฑ
5. ูุณุชูุจู ุฅุดุนุงุฑ ุจุงูููุงููุฉ
6. ูุจุฏุฃ ุงูุงุณุชุฎุฏุงู
```

### ุงูุฃูุงูุฑ ุงููุชุงุญุฉ ููุณุงุฆููู

```
/register GPS001 - ุชุณุฌูู ูุนุฑู ุงูุฌูุงุฒ (ุงุฎุชูุงุฑู)
/location - ุทูุจ ุฅุฑุณุงู ุงููููุน
/status - ุนุฑุถ ุญุงูุฉ ุงูุชุชุจุน
/stop - ุฅููุงู ุงูุชุชุจุน
/help - ุงููุณุงุนุฏุฉ
```

---

## ุงูุฃูุงูุฑ ุงููุชุงุญุฉ

### ููุฌููุน:
| ุงูุฃูุฑ | ุงููุตู |
|-------|-------|
| `/start` | ุจุฏุก ุงููุญุงุฏุซุฉ |
| `/help` | ุนุฑุถ ุงููุณุงุนุฏุฉ |

### ูููุณุชุฎุฏููู ุบูุฑ ุงููุตุฑุญ ููู:
| ุงูุฃูุฑ | ุงููุตู |
|-------|-------|
| `/activate CODE` | ุชูุนูู ุจููุฏ ุฏุนูุฉ |
| `/request_access` | ุทูุจ ููุงููุฉ ุงููุฏูุฑ |

### ูููุณุชุฎุฏููู ุงููุตุฑุญ ููู:
| ุงูุฃูุฑ | ุงููุตู |
|-------|-------|
| `/register GPS001` | ุชุณุฌูู ูุนุฑู ุงูุฌูุงุฒ |
| `/location` | ุฅุฑุณุงู ุงููููุน |
| `/status` | ุนุฑุถ ุงูุญุงูุฉ |
| `/stop` | ุฅููุงู ุงูุชุชุจุน |

### ูููุฏูุฑูู ููุท:
| ุงูุฃูุฑ | ุงููุตู |
|-------|-------|
| `/invite GPS001` | ุฅูุดุงุก ููุฏ ุฏุนูุฉ |
| `/approve_ID` | ุงูููุงููุฉ ุนูู ุทูุจ |
| `/reject_ID` | ุฑูุถ ุทูุจ |
| `/set_device_ID_GPS001` | ุชุนููู ูุนุฑู ูููุงููุฉ |

---

## ุฃูุซูุฉ ุนูููุฉ

### ูุซุงู 1: ุงููุฏูุฑ ูุฏุนู ุณุงุฆู ุฌุฏูุฏ

```
ุงููุฏูุฑ:
/invite GPS001

ุงูุจูุช:
โ ุชู ุฅูุดุงุก ููุฏ ุฏุนูุฉ ุฌุฏูุฏ

ุงูููุฏ: QT-ABC123-XYZ
ูุนุฑู ุงูุฌูุงุฒ: GPS001
ุตุงูุญ ุญุชู: 24/12/2024 23:59

ุฑุงุจุท ุงูุฏุนูุฉ:
https://t.me/alqatami_tracker_bot?start=QT-ABC123-XYZ

ุงููุฏูุฑ ููุฑุณู ุงูุฑุงุจุท ููุณุงุฆู ุนุจุฑ WhatsApp

ุงูุณุงุฆู ูุถุบุท ุงูุฑุงุจุท:
โ ุชู ุชูุนูู ุญุณุงุจู ุจูุฌุงุญ!
ูุนุฑู ุงูุฌูุงุฒ: GPS001
```

### ูุซุงู 2: ุณุงุฆู ูุทูุจ ููุงููุฉ

```
ุงูุณุงุฆู:
/request_access

ุงูุจูุช ููุณุงุฆู:
๐จ ุชู ุฅุฑุณุงู ุทูุจู ูููุฏูุฑ
โณ ูุฑุฌู ุงูุงูุชุธุงุฑ...

ุงูุจูุช ูููุฏูุฑ:
๐ ุทูุจ ูุตูู ุฌุฏูุฏ
ุงูุงุณู: ุฃุญูุฏ ูุญูุฏ
Chat ID: 123456789

ุงููุฏูุฑ:
/approve_123456789

ุงูุจูุช ูููุฏูุฑ:
ูุฑุฌู ุฅุฏุฎุงู ูุนุฑู ุงูุฌูุงุฒ:
/set_device_123456789_GPS001

ุงููุฏูุฑ:
/set_device_123456789_GPS001

ุงูุจูุช ููุณุงุฆู:
โ ุชูุช ุงูููุงููุฉ ุนูู ุทูุจู!
ูุนุฑู ุงูุฌูุงุฒ: GPS001
```

---

## ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### "โ ุบูุฑ ูุตุฑุญ"

**ุงูุณุจุจ:** ูุณุช ูู ุงููุงุฆูุฉ ุงูุจูุถุงุก ููู ุชููุนูู ุญุณุงุจู

**ุงูุญู:**
- ุงุณุชุฎุฏู ููุฏ ุฏุนูุฉ: `/activate CODE`
- ุฃู ุงุทูุจ ููุงููุฉ: `/request_access`

### "โ ููุฏ ุงูุฏุนูุฉ ุบูุฑ ุตุญูุญ"

**ุงูุฃุณุจุงุจ:**
- ุงูููุฏ ุฎุงุทุฆ
- ุงูููุฏ ููุณุชุฎุฏู ุจุงููุนู
- ุงูููุฏ ููุชูู ุงูุตูุงุญูุฉ (ุฃูุซุฑ ูู 24 ุณุงุนุฉ)

**ุงูุญู:**
- ุชุญูู ูู ุงูููุฏ
- ุงุทูุจ ููุฏ ุฌุฏูุฏ ูู ุงููุฏูุฑ

### "โ๏ธ ูุฑุฌู ุงูุชุณุฌูู ุฃููุงู"

**ุงูุณุจุจ:** ูู ุชูุณุฌู ูุนุฑู ุงูุฌูุงุฒ

**ุงูุญู:**
```
/register GPS001
```

---

## ุงูุฃูุงู ูุงูุฎุตูุตูุฉ

### โ ูุง ูุญููู ุงููุธุงู:

1. **ููุน ุงููุตูู ุบูุฑ ุงููุตุฑุญ**
   - ููุท ุงููุณุชุฎุฏููู ุงููุตุฑุญ ููู ูููููู ุงุณุชุฎุฏุงู ุงูุจูุช

2. **ุชุชุจุน ูุงูู**
   - ูู ุชูุนูู ูุณุฌู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
   - ูุนุฑูุฉ ูู ุฃูุดุฃ ุงูููุฏุ ูู ุงุณุชุฎุฏููุ ูุชู

3. **ุฃููุงุฏ ููุฑุฉ ูุงุญุฏุฉ**
   - ูู ููุฏ ููุณุชุฎุฏู ูุฑุฉ ูุงุญุฏุฉ ููุท
   - ูุง ูููู ุฅุนุงุฏุฉ ุงุณุชุฎุฏุงูู

4. **ุตูุงุญูุฉ ูุญุฏูุฏุฉ**
   - ุงูุฃููุงุฏ ุชูุชูู ุจุนุฏ 24 ุณุงุนุฉ
   - ุชูุธูู ุชููุงุฆู ููุฃููุงุฏ ุงูููุชููุฉ

5. **ุชุญูู ุงููุฏูุฑ**
   - ุงููุฏูุฑ ูุชุญูู ุจูู ูุฏุฎู
   - ูููู ุงูููุงููุฉ ุฃู ุงูุฑูุถ

---

## ูุตุงุฆุญ ููุงุณุชุฎุฏุงู ุงูุฃูุซู

### ูููุฏูุฑูู:

1. **ุฃุถู ููุณู ูููุงุฆูุฉ ุงูุจูุถุงุก:**
   ```env
   TELEGRAM_TRUSTED_USERS=YOUR_CHAT_ID
   ```

2. **ุงุณุชุฎุฏู ุฃููุงุฏ ุงูุฏุนูุฉ ููุณุงุฆููู ุงูุฌุฏุฏ:**
   - ุฃุณุฑุน ูุฃุณูู
   - ูุง ูุญุชุงุฌ ุชุฏุฎู ูุฏูู

3. **ุงุณุชุฎุฏู ููุงููุฉ ุงููุฏูุฑ ููุทูุงุฑุฆ:**
   - ุนูุฏูุง ูุง ูููู ููุงู ููุช ูุฅูุดุงุก ููุฏ
   - ููุญุงูุงุช ุงูุงุณุชุซูุงุฆูุฉ

4. **ุฑุงูุจ ุงูุฅุดุนุงุฑุงุช:**
   - ุณุชุณุชูุจู ุฅุดุนุงุฑ ุจูู ุชูุนูู
   - ุณุชุณุชูุจู ุฅุดุนุงุฑ ุจูู ุชุญุฏูุซ ูููุน

### ููุณุงุฆููู:

1. **ุงุญูุธ ุงูุจูุช ูู ุงูููุถูุฉ**

2. **ุงุณุชุฎุฏู `/location` ุจุฏูุงู ูู ุงูุฅุฑุณุงู ุงููุฏูู**

3. **ุชุญูู ูู ุญุงูุชู ุจุงุณุชุฎุฏุงู `/status`**

---

## ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุงูุฌุฏุงูู ุงููุณุชุฎุฏูุฉ:

#### `telegram_invites`
- ุชุฎุฒูู ุฃููุงุฏ ุงูุฏุนูุฉ
- ุชุชุจุน ุงูุงุณุชุฎุฏุงู
- ุฅุฏุงุฑุฉ ุงูุตูุงุญูุฉ

#### `telegram_users`
- ุงููุณุชุฎุฏููู ุงููุตุฑุญ ููู
- ูุนุฑูุงุช ุงูุฃุฌูุฒุฉ
- ุทุฑู ุงูุชูููุถ

---

## ุงูุฎูุงุตุฉ

โ **ูุธุงู ุฃููู ูุฌูู ูู 3 ูุณุชููุงุช**
โ **ูุงุฆูุฉ ุจูุถุงุก ูููุฏูุฑูู**
โ **ุฃููุงุฏ ุฏุนูุฉ ุฐููุฉ**
โ **ููุงููุฉ ูุฏููุฉ ููุทูุงุฑุฆ**
โ **ุชุชุจุน ูุงูู ููู ุดูุก**
โ **ุขูู 100%**

**ุงูุจูุช ุงูุขู ุฌุงูุฒ ููุงุณุชุฎุฏุงู ุจุฃูุงู ุชุงู!** ๐
